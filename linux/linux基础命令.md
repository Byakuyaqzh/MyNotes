### Linux常用命令

命令包含三部分：**命令**，**选项**，**参数**

-------------------------



##### ls

列出目录下的内容

​	选项：

```
-a    列出all文件/文件夹，包括隐藏文件
-l    列出文件的详细信息，包括权限、用户、用户组、时间
-lh   -h必须与-l一起使用，能详细查看文件的大小 

ls -l 可以简写为 ll
```

​	参数：

```
指定目录。会列出指定目录下的内容，比如
ls /
就是列出根目录。这里仅仅是列出根目录内容，而不是cd /
```

​	权限部分的`-rwxrwxrwx`表示文件的读（Read）、写（Write）和执行（eXecute）权限。

​	这些权限分别针对文件的**所有者**、**所属组**和**其他用户**。

`-rwxrwxrwx`中的每个字母代表不同的权限：

- **第一个字母（`-` 或 `d` 或 `l`）**：如果是 `-`，表示这是一个普通文件；如果是 `d`，表示这是一个目录；如果是 `l`，表示这是一个符号链接（符号链接是指向另一个文件或目录的引用）。
- **后面的九个字母（`rwxrwxrwx`）**：每三个字母表示一个权限组，分别对应于文件的所有者（Owner）、所属组（Group）和其他用户（Others）。

对于每个权限组，`r` 表示读权限、`w` 表示写权限、`x` 表示执行权限。如果某个位置是 `-`，表示相应的权限被禁用。



##### chmod

为某个文件添加或减少某种权限

```
chmod [ugo] +/- rwx file

u 表示文件所有者（user）。
g 表示所属组（group）。
o 表示其他用户（others）。

+ 表示添加权限，- 表示删除权限。

r 表示读权限（read）。
w 表示写权限（write）。
x 表示执行权限（execute）。
```



- 添加文件所有者的写权限：`chmod u+w file`
- 删除其他用户的执行权限：`chmod o-x file`
- 添加所属组的读和写权限：`chmod g+rw file`





##### cd

change directory  切换工作目录

​	选项：无

​	参数：

```
·使用相对路径或绝对路径
·留空时默认回到home目录
home目录表示为~，比如，下面这两条命令等效：
cd ~/game
cd home/game
```



##### pwd

print work directory  打印当前目录的绝对路径

​	选项：无

​	参数：无



##### mkdir

make directory  新建文件夹

​	选项：

```
-p    会自动创建不存在的父目录，适用于创建多级目录
```

​	参数：

```
要创建的文件夹的相对路径或绝对路径
```





##### touch

新建文件

​	选项：无

​	参数：

```
要创建的文件的相对路径或绝对路径，注意加后缀名，例如：
touch ./game.exe
```





##### cat

查看文件内容

​	选项：无

​	参数：

```
要查看的文件的相对路径或绝对路径，注意加后缀名，例如：
touch ./test.txt
只是查看一下，无法编辑
```





##### more

查看文件内容

​	选项：无

​	参数：

```
要查看的文件的相对路径或绝对路径，注意加后缀名，例如：
touch ./test.txt
与cat类似，只是查看一下，无法编辑，
区别在于more仅在一个页面里面显示，可以按空格手动翻页，按q退出查看
```





##### cp

copy  复制文件

​	选项：

```
-r    用于复制文件夹使用，表示递归
```

​	参数：

```
需要两个参数：被复制的文件，需要复制去的地方
cp ./test1 ./test2
复制去的地方也要写上文件名
```





##### mv

move  移动文件

​	选项：无

​	参数：

```
需要两个参数：被移动的文件，需要移动去的地方
mv test.txt Desktop/

如果目标不存在，则有改名的效果
mv ./test1 ./test2    这个会把test1改名为test2
```





##### rm

remove 删除

​	选项：

```
-r    用于删除文件夹
-f    强制删除，不会弹出提示信息
      普通用户删除内容时不会弹出提示，用不到这个选项
      只有root用户删除内容时会有提示
```

​	参数：

```
rm -rf /*

rm命令支持通配符*，用来做模糊匹配（包含文件和文件夹）
    test*  表示任何以test开头的内容
    *test  表示任何以test结尾的内容
    *test* 表示任何包含test的内容
```





##### which

查找命令的程序文件的位置

​	选项：无

​	参数：

```
which 命令名
which rm
/usr/bin/rm   返回的结果
```





##### find

查找文件

​	选项：无

​	参数：

```
1、按名称查询
find 起始路径 -name "被查找的文件名"
find / -name "test"        自根目录起，查找名为test的文件

2、按大小查询
find 起始路径 -size +/-n[kMG]
                +或-表示大于/小于，二选一，
                n表示大小，
                [kMG]表示单位，三选一，k表示kb，M表示MB，G表示GB
find / -size +100M         自根目录起，查找大小大于100M的文件

find也可以使用通配符*
```





##### grep

过滤文件内容。可以从文件中通过关键字过滤关键行

​	选项：

```
-n    可选，表示在结果中显示匹配行的行号
```

​	参数：

```
grep -n 关键字 文件路径

某文件有两行，分别如下：
this is a test file
and here is nothing

grep "and" ./test.txt
and here is nothing          输出包含and的这一行
```





##### wc

数量统计

​	选项：

```
-c    统计byte的数量，即文件大小
-m    统计字符数量
-l    统计行数
-w    统计单词数量
```

​	参数：

```
wc [-c -m -l -w] 文件路径
```





##### tar

压缩/解压缩

```
-c   压缩，创建压缩包
-x   解压，从压缩包中提取文件
-t   查看，查看压缩包中的文件
-z   使用gzip方式处理
-j   使用bzip2方式处理
-v   详细报告tar处理的信息
-f   后接文件名
```

```
创建压缩包：
          目标文件     源文件
tar -czf name.tar.gz name.txt

解压缩：   压缩包文件
tar -xzf name.tar.gz
```





##### echo

在命令行输出指令内容

​	选项：无

​	参数：

```
echo 输出的内容
echo "hello linux"
```



##### tail

查看文件尾部的内容，或查看文件的更改

​	选项：

```
-f      表示持续跟踪（监视），按ctrl^C退出监视
-数字    表示查看尾部多少行，不写默认后10行
```

​	参数：

```
tail [-f -数字] 路径
```





##### vi / vim

visual interface 文本编辑器

vim是vi的加强版，一般使用vim

分为三种模式：

- 命令模式：无法编辑文本，所有按键均视为命令
- 输入模式：编辑模式
- 底线命令模式：通常用于文件的保存、退出

```
命令模式：
i       进入编辑模式
:       进入底线命令模式
/       进入搜索模式
Nn      继续向上/下搜索
jk      向上/下移动光标
hl      向左/右移动光标

dd      删除当前行
ndd     n是数字，删除当前行和下面的n-1行
yy      复制当前行
nyy     n是数字，复制当前行和下面的n-1行
p       粘贴
u       撤销
ctrl+r  重做


编辑模式：
esc       回到命令模式

底线命令模式：
w        保存
q        退出
!        强制执行
set nu   显示行号
```





##### su 

switch user  切换用户

```
su [-] [用户名]         - 表示是否在切换用户后加载环境变量
					   不写用户名，默认切换到root上

切换用户后，可以用exit退回上一个用户
```



##### sudo

通过sudo，可以为普通命令授权，临时以root身份执行





##### 创建软连接（快捷方式）

```
ln -s 被链接的源文件/文件夹 要链接去的目的地
```







##### date

```
date [-d] [+格式化字符串]
	-d 按照给定的字符串显示日期
	格式化字符串
		%Y 年
		%y 年份后两位数字  00 ~ 99
		%M 月份  1 ~ 12
		%d 日  1 ~ 31
		%H 小时  00 ~ 23
		%M 分钟 00 ~ 59
		%S 秒  00 ~ 60
		%s 时间戳，自1970-01-01 00:00:00到现在的秒数 
		
例：
date +%Y
```













#### 用户管理

```
创建用户
useradd [-g -d] 用户名
	-g 指定用户的组
	-d 指定HOME路径，不写默认 /home/用户名


删除用户
userdel [-r] 用户名
	-r 删除用户的同时，删除用户的HOME目录


查看用户所属的组
id [用户名]
	不写用户名则查看自己


查看系统中有哪些用户
getent passwd
	可以得到7份信息，分别是：
用户名 ： 密码 ： 用户ID ： 组ID ： 描述信息 ： HOME目录 ： 执行中断(默认bash)


查看系统中有哪些组
getent group
	可以得到三份信息
组名称 ： 组认证 ： 组ID



修改文件、文件夹的权限
只有文件、文件夹的所属用户或root用户可以操作
chmod [-R] 权限 文件或文件夹
	-R 对文件夹内的所有内容应用相同的操作
例    chmod u=rwx,g=rx,o=x hello.txt
指所属用户拥有所有权限，用户组可以读取和使用，但不能修改，其他用户可以使用，但不能读取和修改
权限可以用三位数字表示，r记为4，w记为2，x记为1，有：
0 : ---
1 : --x
2 : -wx
··· ···
7 : rwx
因此上面的命令可以修改为： chmod 751 hello.txt


修改文件、文件夹的所属用户
这个命令只有root用户可以修改
chown [-R] [用户][:][用户组] 文件或文件夹
例  chown user1:group1 hello.txt 
把这个文件的所属用户修改为user1，所示用户组修改为group1。这里，user1可以不是组group1内的用户
```







#### 软件安装 yum/apt

CentOS

```
yum [-y] [install | remove | search] 软件名称
install 表示安装， remove 表示卸载， search 表示搜索
```

Ubuntu

```
apt [-y] [install | remove | search] 软件名称
install 表示安装， remove 表示卸载， search 表示搜索
```

​	补充：CentOS中的软件安装包后缀为`.rpm`，Ubuntu中的软件安装包后缀`.deb`，





#### 软件控制 systemctl

```
systemctl start | stop | stutas | enable | disable 服务名
           启动    停止     状态    开机自启   禁止开机自启
```







##### 反引号 `

被反引号包括的内容将作为命令使用

```
echo "pwd"
pwd                 输出pwd

echo `pwd`
/                    输出当前路径
```





#### 符号

##### 重定向符 >  >>

\>  将左侧的结果，覆盖写入右侧

\>>  将左侧的结果，追加写入右侧





##### 管道符 |

将管道符左边的结果，作为右边的输入

```
cat test.txt | wc -w
	统计test.txt中的单词数量

ls -l ./game | grep game
	列出game文件夹里名称为game的详情
	
管道符可以套娃
```









